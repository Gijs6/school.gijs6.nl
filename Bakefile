#!/bin/bash

serve() {
  .venv/bin/python binder.py serve
}

build() {
  .venv/bin/python binder.py build
}

format() {
  ruff format .
  prettier --write "**/*.{css,js}"
  prettier --write "**/*.{json,xml,yml}"
  djlint . --reformat
  markdownlint --fix "**/*.md" || true
}

deploy_info() {
  id=$(gh api repos/:owner/:repo/deployments --jq '.[0].id')
  url=$(gh api repos/:owner/:repo/deployments/$id/statuses --jq '.[0].log_url')
  [ -n "$url" ] && xdg-open "$url"
}

